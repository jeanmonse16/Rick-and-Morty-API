{"version":3,"sources":["components/CharacterCard.js","components/App.js","index.js","images/logo.png"],"names":["CharacterCard","props","react_default","a","createElement","className","style","backgroundImage","concat","character","image","name","App","state","loading","error","data","info","results","nextPage","fetchCharacters","_callee","response","regenerator_default","wrap","_context","prev","next","_this","setState","fetch","sent","json","t0","stop","detectScrollEnd","contentHeight","document","body","offsetHeight","window","scrollY","innerHeight","this","onscroll","src","logo","alt","map","key","id","components_CharacterCard","Component","rootElement","getElementById","render","components_App","module","exports","__webpack_require__","p"],"mappings":"+PAaeA,EAXO,SAAAC,GAAK,OACzBC,EAAAC,EAAAC,cAAA,OACEC,UAAU,gBACVC,MAAO,CAAEC,gBAAe,OAAAC,OAASP,EAAMQ,UAAUC,MAAzB,OAExBR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+CACZJ,EAAMQ,UAAUE,QCqFRC,6MAvFbC,MAAQ,CACNC,SAAS,EACTC,MAAO,KACPC,KAAM,CACJC,KAAM,GACNC,QAAS,IAEXC,SAAU,KAmBZC,qCAAkB,SAAAC,IAAA,IAAAC,EAAAN,EAAA,OAAAO,EAAApB,EAAAqB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAChBC,EAAKC,SAAS,CAAEf,SAAS,EAAMC,MAAO,OADtBU,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAISG,MAAK,mDAAAtB,OAExBoB,EAAKf,MAAMM,WAND,cAIRG,EAJQG,EAAAM,KAAAN,EAAAE,KAAA,EASKL,EAASU,OATd,OASRhB,EATQS,EAAAM,KAWdH,EAAKC,SAAS,CACZf,SAAS,EACTE,KAAM,CACJC,KAAMD,EAAKC,KACXC,QAAS,GAAGV,OAAOoB,EAAKf,MAAMG,KAAKE,QAASF,EAAKE,UAEnDC,SAAUS,EAAKf,MAAMM,SAAW,IAjBpBM,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAoBdG,EAAKC,SAAS,CAAEf,SAAS,EAAOC,MAAKU,EAAAQ,KApBvB,yBAAAR,EAAAS,SAAAb,EAAA,oBAwBlBc,gBAAkB,WAChB,IAAMC,EAAgBC,SAASC,KAAKC,aACbC,OAAOC,QAAUD,OAAOE,aACzBN,GAChBR,EAAKf,MAAMM,SAAW,IACxBS,EAAKR,sGA5CLuB,KAAK9B,MAAMM,UAAY,GACzBwB,KAAKvB,kBAEFuB,KAAK9B,MAAMC,UACd0B,OAAOI,SAAWD,KAAKR,8DAIrBQ,KAAK9B,MAAMC,QACb0B,OAAOI,SAAW,aAElBJ,OAAOI,SAAWD,KAAKR,iDAuCzB,OAAIQ,KAAK9B,MAAME,MACN,SAIPb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOwC,IAAKC,IAAMC,IAAI,iBAErC7C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,OACXsC,KAAK9B,MAAMG,KAAKE,QAAQ8B,IAAI,SAAAvC,GAAS,OACpCP,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiB4C,IAAKxC,EAAUyC,IAC5ChD,EAAAC,EAAAC,cAAC+C,EAAD,CAAe1C,UAAWA,QAK/BkC,KAAK9B,MAAMC,SACVZ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eAAb,uBAhFM+C,aCCZC,SAAchB,SAASiB,eAAe,SAC5CC,iBAAOrD,EAAAC,EAAAC,cAACoD,EAAD,MAASH,sBCPhBI,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.a80048ce.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst CharacterCard = props => (\r\n  <div\r\n    className=\"CharacterCard\"\r\n    style={{ backgroundImage: `url(${props.character.image})` }}\r\n  >\r\n    <div className=\"CharacterCard__name-container text-truncate\">\r\n      {props.character.name}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default CharacterCard;\r\n","import React, { Component } from 'react';\r\n\r\nimport logo from '../images/logo.png';\r\nimport CharacterCard from './CharacterCard';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    loading: false,\r\n    error: null,\r\n    data: {\r\n      info: {},\r\n      results: []\r\n    },\r\n    nextPage: 1\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.state.nextPage <= 1) {\r\n      this.fetchCharacters();\r\n    }\r\n    if (!this.state.loading) {\r\n      window.onscroll = this.detectScrollEnd;\r\n    }\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.state.loading) {\r\n      window.onscroll = () => {};\r\n    } else {\r\n      window.onscroll = this.detectScrollEnd;\r\n    }\r\n  }\r\n\r\n  fetchCharacters = async () => {\r\n    this.setState({ loading: true, error: null });\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://rickandmortyapi.com/api/character/?page=${\r\n          this.state.nextPage\r\n        }`\r\n      );\r\n      const data = await response.json();\r\n\r\n      this.setState({\r\n        loading: false,\r\n        data: {\r\n          info: data.info,\r\n          results: [].concat(this.state.data.results, data.results)\r\n        },\r\n        nextPage: this.state.nextPage + 1\r\n      });\r\n    } catch (error) {\r\n      this.setState({ loading: false, error: error });\r\n    }\r\n  };\r\n\r\n  detectScrollEnd = () => {\r\n    const contentHeight = document.body.offsetHeight;\r\n    const scrollPosition = window.scrollY + window.innerHeight;\r\n    if (scrollPosition >= contentHeight) {\r\n      if (this.state.nextPage < 26) {\r\n        this.fetchCharacters();\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return 'Error!';\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"App\">\r\n          <img className=\"Logo\" src={logo} alt=\"Rick y Morty\" />\r\n\r\n          <ul className=\"row\">\r\n            {this.state.data.results.map(character => (\r\n              <li className=\"col-6 col-md-3\" key={character.id}>\r\n                <CharacterCard character={character} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          {this.state.loading && (\r\n            <p className=\"text-center\">Loading...</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\nimport App from './components/App';\r\nimport './styles.css';\r\n\r\nconst rootElement = document.getElementById('root');\r\nrender(<App />, rootElement);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.42d6efdb.png\";"],"sourceRoot":""}